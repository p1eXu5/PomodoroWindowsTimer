<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:local="clr-namespace:PomodoroWindowsTimer.Wpf"
                    >

    <Style TargetType="{x:Type local:LinearDiagram}">
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="BorderBrush" Value="LightGray" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="SnapsToDevicePixels" Value="true" />
        <Setter Property="DiagramHeight" Value="26" />
        <Setter Property="CornerRadius" Value="4" />
        <Setter Property="Foreground" Value="White" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:LinearDiagram}">
                    <Grid HorizontalAlignment="Stretch">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <Border Grid.Row="0"
                                Grid.ColumnSpan="2"
                                HorizontalAlignment="Stretch"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="{TemplateBinding CornerRadius}"
                                SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
                                >
                            <Viewbox Height="{TemplateBinding DiagramHeight}"
                                     HorizontalAlignment="Stretch"
                                     Stretch="Fill"
                                     >
                                <ItemsControl x:Name="PART_ItemsControl">
                                    <ItemsControl.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <StackPanel Orientation="Horizontal" />
                                        </ItemsPanelTemplate>
                                    </ItemsControl.ItemsPanel>
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <Rectangle Width="{Binding Width}"
                                                       Height="26"
                                                       Margin="0"
                                                       Fill="{Binding Fill}"
                                                       ToolTip="{Binding Hint}"
                                                       />
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </Viewbox>
                        </Border>

                        <Label Grid.Row="1"
                               Grid.Column="0"
                               HorizontalAlignment="Left"
                               Content="{TemplateBinding StartTime}"
                               Foreground="{TemplateBinding Foreground}"
                               />
                        <Label Grid.Row="1"
                               Grid.Column="1"
                               HorizontalAlignment="Right"
                               Content="{TemplateBinding EndTime}"
                               Foreground="{TemplateBinding Foreground}"
                               />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>