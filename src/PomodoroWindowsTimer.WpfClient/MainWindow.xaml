<Window x:Class="PomodoroWindowsTimer.WpfClient.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mainModel="clr-namespace:PomodoroWindowsTimer.ElmishApp.MainModel;assembly=PomodoroWindowsTimer.ElmishApp"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:pwt="clr-namespace:PomodoroWindowsTimer.Wpf;assembly=PomodoroWindowsTimer.Wpf"
        xmlns:sel="clr-namespace:PomodoroWindowsTimer.WpfClient.Selectors"
        xmlns:userControls="clr-namespace:PomodoroWindowsTimer.WpfClient.UserControls"
        x:Name="m_Root"
        Title="{Binding Title}"
        Width="800"
        Height="520"
        MinWidth="800"
        MinHeight="595"
        TextElement.FontSize="13"
        TextElement.FontWeight="Regular"
        TextElement.Foreground="{StaticResource MaterialDesign.Brush.Foreground}"
        d:DataContext="{d:DesignInstance Type=mainModel:IBindings,
                                         IsDesignTimeCreatable=False}"
        Background="Black"
        Style="{StaticResource MaterialDesignWindow}"
        WindowStartupLocation="CenterScreen"
        mc:Ignorable="d"
        >
    <Window.Resources>
        <sel:MainDialogContentTemplateSelector x:Key="set_MainDialogContentTemplate" />
    </Window.Resources>

    <materialDesign:DialogHost x:Name="m_RootDialogHost"
                               CloseOnClickAway="False"
                               DataContext="{Binding AppDialog}"
                               DialogContent="{Binding AppDialogId}"
                               DialogContentTemplateSelector="{StaticResource set_MainDialogContentTemplate}"
                               DialogTheme="Inherit"
                               Identifier="RootDialog"
                               IsOpen="{Binding IsDialogOpened}"
                               SnackbarMessageQueue="{Binding ElementName=m_ErrorMessageQueueSnackbar,
                                                              Path=MessageQueue}"
                               >

        <pwt:GlossOnBase>
            <DockPanel d:DataContext="{d:DesignInstance Type=mainModel:IBindings}"
                       DataContext="{Binding ElementName=m_Root,
                                             Path=DataContext}"
                       >
                <materialDesign:Snackbar x:Name="m_ErrorMessageQueueSnackbar"
                                         DockPanel.Dock="Bottom"
                                         HorizontalAlignment="Stretch"
                                         ActionButtonStyle="{StaticResource MaterialDesignSnackbarActionDarkButton}"
                                         MessageQueue="{Binding ErrorMessageQueue}"
                                         />

                <userControls:ControlButtons DockPanel.Dock="Bottom"
                                             VerticalAlignment="Top"
                                             DataContext="{Binding Player}"
                                             />

                <!--  LCD container  -->
                <pwt:Lcd x:Name="m_MainContentContainer"
                         Margin="40,30,40,0"
                         >
                    <userControls:MainContent Width="{Binding ElementName=m_MainContentContainer,
                                                              Path=ActualWidth}"
                                              Height="{Binding ElementName=m_MainContentContainer,
                                                               Path=ActualHeight}"
                                              DataContext="{Binding}"
                                              />
                </pwt:Lcd>
            </DockPanel>
        </pwt:GlossOnBase>
    </materialDesign:DialogHost>
</Window>
